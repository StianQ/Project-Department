<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>this不同场景</title>
</head>
<body>
    <button id="btn">test</button>
    <script>
        // 普通函数中的this
        // 非严格模式 this -> window
        // 严格模式下 this -> undefined 
        // 'use strict'//开启严格模式
        // function a() {
        //     console.log(this);
        // }

        // a();

        // call apply bind 中的this
        // 情况1：this -> window
        //     a.call()
        //     a.call(undefined)
        //     a.call(null)
        
        // 情况2：传什么，this就是什么

        // function a() {
        //     console.log(this);
        // }

        // a.call();
        // a.apply({x : 101});
        // a.bind({x : 101})()

        // 定时器中的this
        // 情况1：定时器+function this->window
        // 情况2：定时器+箭头函数 this->上层作用域的this

        // 情况1
        // setTimeout(function () {
        //     console.log(this);
        // },100);

        // function fn() {
        //     setTimeout(function () {
        //         console.log(this);
        //     },100)
        // }   
        
        // fn.call({ x : 101})

        // const a={
        //     fn() {
        //         setTimeout(function () {
        //             console.log((this));
        //         })
        //     }
        // }
        // a.fn()

        // 情况2
        // class Obj{
        //     fn() {
        //         setTimeout(() => {
        //             console.log((this));
        //         },100)
        //     }
        // }

        // const o = new Obj();
        // o.fn()

        // function fn() {
        //     setTimeout(() => {
        //         console.log(this);
        //     },100)
        // }

        // fn.call({x : 101})

        // 箭头函数中的 this
        // 情况1：有function作用域的，this是上层作用域的this
        // 情况2：没有function作用域的，this是window

        // class Obj{
        //     say = () => {
        //         console.log(this);
        //     }
        // }

        // const obj1 = new Obj();
        // obj1.say()

        // const obj2 = {
        //     say: () => {
        //         console.log(this);
        //     }
        // }
        // obj2.say()

        // const oBtn = document.getElementById('btn');
        // oBtn.onclick = function () {
        //     console.log(this);
        // }

        // oBtn.onclick = () => {
        //     console.log(this);
        // }

        
    </script>
</body>
</html>